function thresIma = thresholding(Ima) %Function to peform a simple goblal thresholding % thres = thresholded Image % Ima, image values % opt, option for the thresholding % thr, thresholding values  c = 'y';  while(c == 'y')   printf('\n');   printf('What kind of thresholdign would you like to apply\n')   printf(' [0] Cancel\n')      printf(' [1] r == Th\n')        printf(' [2] r >= Th\n')   printf(' [3] Th1 <= r <= Th2\n')   printf(' [4] Logic operatio to two Th1 <= r <= Th2 thresholded images\n')   printf('\n');   ope = input('What kind of thresholdign would you like to apply? [0...4]: ');      thresIma = zeros(size(Ima));   switch ope     case 0      thresIma = Ima;      break     case 1        thr = input('Value Th for r == Th: ');       thresIma = Ima == thr;       THR = ['r == ', num2str(thr)];     case 2       thr = input('Value Th for r >= Th: ');       thresIma = Ima >= thr;       THR = ['r >= ', num2str(thr)];     case 3       thr = input('values [Th1 Th2] for Th1 <= r <= Th2: ');       thresIma = (Ima >= thr(1)) & (Ima <= thr(2));       THR = [num2str(thr(1)), ' <= r <= ', num2str(thr(2))];     case 4       thr1 = input('First threshold values [Th1 Th2] for Th1 <= r <= Th2: ');       thr2 = input('Second threshold values [Th1 Th2] for Th1 <= r <= Th2: ');       operation = input('Logic operation: [1] AND [2] OR: ');       if operation == 1        thresIma = ((Ima >= thr1(1)) & (Ima <= thr1(2))) & (Ima >= thr2(1)) & (Ima <= thr2(2));        lope = ' AND ';       else        thresIma = ((Ima >= thr1(1)) & (Ima <= thr1(2))) | (Ima >= thr2(1)) & (Ima <= thr2(2));        lope = ' OR ';       endif       THR = [num2str(thr1(1)), ' <= r <= ', num2str(thr1(2)), lope, num2str(thr2(1)), ' <= r <= ', num2str(thr2(2)) ];      end          figure(3);   %subplot(1,2,1)   %imshow(Ima, [0 255]);   %title('Original Image');   %subplot(1,2,2)   imshow(thresIma, [0 1]);   title(['Thresholded Image: ', THR])      if(input('Do you want to invert image? y/n: ','s') == 'y')     thresIma = not(thresIma);     figure(3)     %subplot(1,2,1)     %imshow(Ima, [0 255]);     %title('Original Image');     %subplot(1,2,2)     imshow(thresIma, [0 1]);     title(['Inverted Thresholded Image: ', THR])   endif       while(true)     c = lower(input('Would you like to try a different thresholding? y/n: ','s'));     if(c == 'y')       break     else       msgbox('You are now working with a thresholded image!!');       break     endif   end  endend