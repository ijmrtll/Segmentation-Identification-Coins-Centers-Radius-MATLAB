function ImaFilt = imFilt(Ima)%Function to use  filtersc = 'y';while(c == 'y')    disp('');    disp('Which type of filter would you like to use?')    disp(' [0] Cancel')    disp(' [1] Averaging Filter')    disp(' [2] Median Filter')    disp(' [3] Gaussian Filter')    disp(' [4] Sharpening Filter')    disp(' [5] Outline Filter')    disp('');    ope = input('Which type of filter would you like to use? [0...5]: ');        switch ope        case 0            ImaFilt = Ima;            break                    case 1            hsize = input('What is the size of the filter? ');            rt = input('How many times would you like to apply the filter? ');            h = fspecial('average', hsize);            ImaFilt = Ima;            if rt > 1                for i=1:rt-1                    h = conv2(h,h);                end            end            ImaFilt = conv2(double(ImaFilt), h, 'same');            FLT = ['Applied ' num2str(rt), ' times ', 'Average'];                    case 2            hsize = input('What is the size of the filter? [M N] ');            ImaFilt = medfilt2(Ima, hsize);            FLT = 'Median';                    case 3            hsize = input('What is the size of the filter? ');            sigma = input('Whats the value of Sigma? (>0  <=1) ');            h = fspecial('gaussian', hsize, sigma);            ImaFilt = conv2(double(Ima), h, 'same');            FLT = 'Gaussian';                    case 4            %ImaFilt = imsharpen(Ima);            sigma = input('Whats the value of Sigma? (0 to 1) ');            h = fspecial('unsharp', sigma);            ImaFilt = conv2(double(Ima), h, 'same');            FLT = 'Sharpening';        case 5            %Outline Filter            h = [-1 -1 -1; -1 8 -1; -1 -1 -1];            ImaFilt = conv2(double(Ima), h, 'same');            FLT = 'Outline';    end        if ~(ope == 2)        figure(5)        imagesc(h); colormap gray;        title('Filter Used')        %display('h = ')        %display(h);    end    ImaFilt(ImaFilt(:,:) > 255) = 255;    ImaFilt(ImaFilt(:,:) < 0) = 0;        figure(6)    subplot(2,2,1)    imagesc(Ima);    title('Original Image');    subplot(2,2,2)    imshow(ImaFilt, [0 255]);    title(['Filtered Image: ', FLT, ' Filter'])    histo = histogram(Ima);    subplot(2,2,3)	he = size(histo);    bar(0:he(1)-1,histo, 'histc')    xlim([0 255])    set(gca,'XTick', 0:15:255);    grid 'on'    subplot(2,2,4)        ImaFilt = uint8(ImaFilt);    histo = histogram(ImaFilt);    bar(0:he(1)-1, histo, 'histc')    xlim([0 255])    set(gca,'XTick',0:15:255);    grid 'on'            while(true)        c = lower(input('Would you like to try a different filter? y/n: ','s'));        if(c == 'y')            break        else            ImaFilt = uint8(ImaFilt);            msgbox('You are now working with a filtered image!!','modal');            break        end    end    endend